<% layout('layout') %>

<h1 class="mb-4">게시글 목록</h1>
<a href="/boards/new" class="btn btn-primary mb-4">새 게시글 작성</a>
<ul class="list-group">
    <% boards.forEach(board => { %>
        <li class="list-group-item d-flex justify-content-between align-items-center">
            <a href="/boards/<%= board.id %>" 
               class="board-title" 
               data-bs-toggle="popover" 
               data-bs-html="true" 
               data-bs-content="<% if (board.image) { %> <img src='/uploads/<%= board.image %>' alt='이미지' class='img-thumbnail' style='max-width: 200px;'> <% } %>">
                <%= board.title %>
            </a>
            <span>
                <a href="/boards/<%= board.id %>/edit" class="btn btn-warning btn-sm">수정</a>
                <form action="/boards/<%= board.id %>?_method=DELETE" method="POST" style="display:inline;">
                    <button type="submit" class="btn btn-danger btn-sm">삭제</button>
                </form>
            </span>
        </li>
    <% }) %>
</ul>
